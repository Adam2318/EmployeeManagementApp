<h2 class="text-center my-5">
    {{ isEditing ? 'Edit' : 'Create' }} Employee
</h2>

@if (errorMessage) {
<div class="text-danger text-center mb-3">
    {{ errorMessage }}
</div>
}

<form (ngSubmit)="onSubmit()" #employeeForm="ngForm" class="border rounded p-5 w-50 mb-5 mx-auto">

    <div class="mb-3">
        <label class="form-label">First Name*</label>
        <input required #firstName="ngModel" class="form-control" type="text" name="firstName"
            [(ngModel)]="employee.firstName" />

        @if (firstName.invalid && (firstName.touched || firstName.dirty)) {
        <div class="text-danger">
            First Name is required.
        </div>
        }
    </div>

    <div class="mb-3">
        <label class="form-label">Last Name*</label>
        <input required #lastName="ngModel" class="form-control" type="text" name="lastName"
            [(ngModel)]="employee.lastName" />

        @if (lastName.invalid && (lastName.touched || lastName.dirty)) {
        <div class="text-danger">
            Last Name is required.
        </div>
        }
    </div>

    <div class="mb-3">
        <label class="form-label">Phone*</label>
        <input required #phone="ngModel" class="form-control" type="tel" name="phone" [(ngModel)]="employee.phone" />

        @if (phone.invalid && (phone.touched || phone.dirty)) {
        <div class="text-danger">
            Phone is required.
        </div>
        }
    </div>

    <div class="mb-3">
        <label class="form-label">Email*</label>
        <input required email #email="ngModel" class="form-control" type="email" name="email"
            [(ngModel)]="employee.email" />

        @if (email.invalid && (email.touched || email.dirty)) {
        <div class="text-danger">
            @if (email.errors?.['required']) {
            Email is required.
            }
            @if (email.errors?.['email']) {
            Email is invalid.
            }
        </div>
        }
    </div>

    <div class="mb-3">
        <label class="form-label">Position*</label>
        <input required #position="ngModel" class="form-control" type="text" name="position"
            [(ngModel)]="employee.position" />

        @if (position.invalid && (position.touched || position.dirty)) {
        <div class="text-danger">
            Position is required.
        </div>
        }
    </div>

    <button class="btn btn-primary" type="submit" [disabled]="employeeForm.invalid">
        {{ isEditing ? 'Edit' : 'Create' }}
    </button>

</form>